<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√âditeur MathML Avanc√©</title>

    <!-- MathLive CSS -->
    <link rel="stylesheet" href="https://unpkg.com/mathlive/dist/mathlive.core.css">
    <link rel="stylesheet" href="https://unpkg.com/mathlive/dist/mathlive.css">

    <!-- Bootstrap pour le style -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .math-field {
            border: 2px solid #007bff;
            border-radius: 8px;
            padding: 15px;
            min-height: 60px;
            background: #f8f9fa;
            font-size: 18px;
            margin: 10px 0;
        }

        .math-field.focused {
            border-color: #0056b3;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }

        .toolbar {
            background: #f1f3f4;
            border: 1px solid #dadce0;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .math-btn {
            background: #1976d2;
            color: white;
            border: none;
            padding: 8px 16px;
            margin: 4px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .math-btn:hover {
            background: #1565c0;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .preview-area {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin: 10px 0;
            min-height: 100px;
        }

        .output-code {
            background: #263238;
            color: #ffffff;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 12px;
            white-space: pre-wrap;
            word-break: break-all;
            max-height: 300px;
            overflow-y: auto;
        }

        .complex-examples {
            background: #e8f5e8;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
        }

        .example-btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 6px 12px;
            margin: 2px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .example-btn:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h3 class="mb-0">üßÆ √âditeur MathML Avanc√© avec MathQuill</h3>
                        <small>Supporte les expressions complexes imbriqu√©es</small>
                    </div>

                    <div class="card-body">
                        <!-- Barre d'outils avanc√©e -->
                        <div class="toolbar">
                            <h5>üõ†Ô∏è Outils math√©matiques :</h5>

                            <div class="mb-3">
                                <strong>Fractions et Racines :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\frac{ }{ }')" title="Fraction">a/b</button>
                                <button class="math-btn" onclick="insertSymbol('\\sqrt{}')" title="Racine carr√©e">‚àö</button>
                                <button class="math-btn" onclick="insertSymbol('\\sqrt[]{}')" title="Racine n-i√®me">‚Åø‚àö</button>
                                <button class="math-btn" onclick="insertSymbol('\\sqrt{\\frac{ }{ }}')" title="Racine de fraction">‚àö(a/b)</button>
                                <button class="math-btn" onclick="insertSymbol('\\sqrt[3]{}')" title="Racine cubique">‚àõ</button>
                                <button class="math-btn" onclick="insertSymbol('\\frac{1}{}')" title="Inverse">1/x</button>
                                <button class="math-btn" onclick="insertComplexSymbol('mixed_number')" title="Nombre mixte">a b/c</button>
                            </div>

                            <div class="mb-3">
                                <strong>Puissances et Indices :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('^{}')" title="Exposant">x¬≤</button>
                                <button class="math-btn" onclick="insertSymbol('_{}')" title="Indice">x‚ÇÅ</button>
                                <button class="math-btn" onclick="insertSymbol('^{}_{}')" title="Exposant et indice">x‚ÇÅ¬≤</button>
                                <button class="math-btn" onclick="insertSymbol('\\left({}\\right)^{}')" title="Puissance de parenth√®ses">(...)¬≤</button>
                                <button class="math-btn" onclick="insertSymbol('^{2}')" title="Au carr√©">x¬≤</button>
                                <button class="math-btn" onclick="insertSymbol('^{3}')" title="Au cube">x¬≥</button>
                                <button class="math-btn" onclick="insertSymbol('^{-1}')" title="Puissance -1">x‚Åª¬π</button>
                                <button class="math-btn" onclick="insertSymbol('e^{}')" title="Exponentielle">eÀ£</button>
                            </div>

                            <div class="mb-3">
                                <strong>Fonctions trigonom√©triques :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\sin({})')" title="Sinus">sin</button>
                                <button class="math-btn" onclick="insertSymbol('\\cos({})')" title="Cosinus">cos</button>
                                <button class="math-btn" onclick="insertSymbol('\\tan({})')" title="Tangente">tan</button>
                                <button class="math-btn" onclick="insertSymbol('\\arcsin({})')" title="Arc sinus">arcsin</button>
                                <button class="math-btn" onclick="insertSymbol('\\arccos({})')" title="Arc cosinus">arccos</button>
                                <button class="math-btn" onclick="insertSymbol('\\arctan({})')" title="Arc tangente">arctan</button>
                                <button class="math-btn" onclick="insertSymbol('\\sec({})')" title="S√©cante">sec</button>
                                <button class="math-btn" onclick="insertSymbol('\\csc({})')" title="Cos√©cante">csc</button>
                                <button class="math-btn" onclick="insertSymbol('\\cot({})')" title="Cotangente">cot</button>
                            </div>

                            <div class="mb-3">
                                <strong>Logarithmes et exponentielles :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\log({})')" title="Logarithme">log</button>
                                <button class="math-btn" onclick="insertSymbol('\\ln({})')" title="Logarithme naturel">ln</button>
                                <button class="math-btn" onclick="insertSymbol('\\log_{ {} }')" title="Logarithme en base">log‚Çç‚Çì‚Çé</button>
                                <button class="math-btn" onclick="insertSymbol('\\log_{10}({})')" title="Logarithme base 10">log‚ÇÅ‚ÇÄ</button>
                                <button class="math-btn" onclick="insertSymbol('\\log_{2}({})')" title="Logarithme base 2">log‚ÇÇ</button>
                                <button class="math-btn" onclick="insertSymbol('e')" title="Nombre e">e</button>
                                <button class="math-btn" onclick="insertSymbol('\\exp({})')" title="Exponentielle">exp</button>
                            </div>

                            <div class="mb-3">
                                <strong>Lettres grecques :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\alpha')" title="Alpha">Œ±</button>
                                <button class="math-btn" onclick="insertSymbol('\\beta')" title="B√™ta">Œ≤</button>
                                <button class="math-btn" onclick="insertSymbol('\\gamma')" title="Gamma">Œ≥</button>
                                <button class="math-btn" onclick="insertSymbol('\\delta')" title="Delta">Œ¥</button>
                                <button class="math-btn" onclick="insertSymbol('\\epsilon')" title="Epsilon">Œµ</button>
                                <button class="math-btn" onclick="insertSymbol('\\theta')" title="Th√™ta">Œ∏</button>
                                <button class="math-btn" onclick="insertSymbol('\\lambda')" title="Lambda">Œª</button>
                                <button class="math-btn" onclick="insertSymbol('\\mu')" title="Mu">Œº</button>
                                <button class="math-btn" onclick="insertSymbol('\\pi')" title="Pi">œÄ</button>
                                <button class="math-btn" onclick="insertSymbol('\\sigma')" title="Sigma">œÉ</button>
                                <button class="math-btn" onclick="insertSymbol('\\phi')" title="Phi">œÜ</button>
                                <button class="math-btn" onclick="insertSymbol('\\omega')" title="Om√©ga">œâ</button>
                            </div>

                            <div class="mb-3">
                                <strong>Symboles de comparaison :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('=')" title="√âgal">=</button>
                                <button class="math-btn" onclick="insertSymbol('\\neq')" title="Diff√©rent">‚â†</button>
                                <button class="math-btn" onclick="insertSymbol('<')" title="Inf√©rieur"><</button>
                                <button class="math-btn" onclick="insertSymbol('>')" title="Sup√©rieur">></button>
                                <button class="math-btn" onclick="insertSymbol('\\leq')" title="Inf√©rieur ou √©gal">‚â§</button>
                                <button class="math-btn" onclick="insertSymbol('\\geq')" title="Sup√©rieur ou √©gal">‚â•</button>
                                <button class="math-btn" onclick="insertSymbol('\\approx')" title="Approximativement √©gal">‚âà</button>
                                <button class="math-btn" onclick="insertSymbol('\\equiv')" title="√âquivalent">‚â°</button>
                                <button class="math-btn" onclick="insertSymbol('\\propto')" title="Proportionnel">‚àù</button>
                            </div>

                            <div class="mb-3">
                                <strong>Calcul diff√©rentiel et int√©gral :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\frac{d}{dx}')" title="D√©riv√©e">d/dx</button>
                                <button class="math-btn" onclick="insertSymbol('\\frac{\\partial}{\\partial x}')" title="D√©riv√©e partielle">‚àÇ/‚àÇx</button>
                                <button class="math-btn" onclick="insertSymbol('\\int')" title="Int√©grale">‚à´</button>
                                <button class="math-btn" onclick="insertSymbol('\\int_{ }^{ }')" title="Int√©grale d√©finie">‚à´‚Çê·µá</button>
                                <button class="math-btn" onclick="insertSymbol('\\oint')" title="Int√©grale de contour">‚àÆ</button>
                                <button class="math-btn" onclick="insertSymbol('\\iint')" title="Int√©grale double">‚à¨</button>
                                <button class="math-btn" onclick="insertSymbol('\\iiint')" title="Int√©grale triple">‚à≠</button>
                                <button class="math-btn" onclick="insertSymbol('\\lim_{ \\to }')" title="Limite">lim</button>
                                <button class="math-btn" onclick="insertSymbol('\\nabla')" title="Nabla">‚àá</button>
                            </div>

                            <div class="mb-3">
                                <strong>Sommes et produits :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\sum')" title="Somme">Œ£</button>
                                <button class="math-btn" onclick="insertSymbol('\\sum_{i=1}^{n}')" title="Somme index√©e">Œ£·µ¢‚Çå‚ÇÅ‚Åø</button>
                                <button class="math-btn" onclick="insertSymbol('\\prod')" title="Produit">Œ†</button>
                                <button class="math-btn" onclick="insertSymbol('\\prod_{i=1}^{n}')" title="Produit index√©">Œ†·µ¢‚Çå‚ÇÅ‚Åø</button>
                                <button class="math-btn" onclick="insertSymbol('\\coprod')" title="Coproduit">‚àê</button>
                                <button class="math-btn" onclick="insertSymbol('\\bigcup')" title="Union">‚ãÉ</button>
                                <button class="math-btn" onclick="insertSymbol('\\bigcap')" title="Intersection">‚ãÇ</button>
                            </div>

                            <div class="mb-3">
                                <strong>Matrices et vecteurs :</strong><br>
                                <button class="math-btn" onclick="insertComplexSymbol('matrix_2x2')" title="Matrice 2√ó2">Matrix 2√ó2</button>
                                <button class="math-btn" onclick="insertComplexSymbol('matrix_3x3')" title="Matrice 3√ó3">Matrix 3√ó3</button>
                                <button class="math-btn" onclick="insertComplexSymbol('vector_2d')" title="Vecteur 2D">Vector 2D</button>
                                <button class="math-btn" onclick="insertComplexSymbol('vector_3d')" title="Vecteur 3D">Vector 3D</button>
                                <button class="math-btn" onclick="insertSymbol('\\det')" title="D√©terminant">det</button>
                                <button class="math-btn" onclick="insertSymbol('\\vec{}')" title="Vecteur">‚Üí</button>
                                <button class="math-btn" onclick="insertSymbol('\\hat{}')" title="Vecteur unitaire">^</button>
                            </div>

                            <div class="mb-3">
                                <strong>Th√©orie des ensembles :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\in')" title="Appartient">‚àà</button>
                                <button class="math-btn" onclick="insertSymbol('\\notin')" title="N'appartient pas">‚àâ</button>
                                <button class="math-btn" onclick="insertSymbol('\\subset')" title="Sous-ensemble">‚äÇ</button>
                                <button class="math-btn" onclick="insertSymbol('\\subseteq')" title="Sous-ensemble ou √©gal">‚äÜ</button>
                                <button class="math-btn" onclick="insertSymbol('\\supset')" title="Sur-ensemble">‚äÉ</button>
                                <button class="math-btn" onclick="insertSymbol('\\cup')" title="Union">‚à™</button>
                                <button class="math-btn" onclick="insertSymbol('\\cap')" title="Intersection">‚à©</button>
                                <button class="math-btn" onclick="insertSymbol('\\emptyset')" title="Ensemble vide">‚àÖ</button>
                                <button class="math-btn" onclick="insertSymbol('\\mathbb{N}')" title="Entiers naturels">‚Ñï</button>
                                <button class="math-btn" onclick="insertSymbol('\\mathbb{Z}')" title="Entiers relatifs">‚Ñ§</button>
                                <button class="math-btn" onclick="insertSymbol('\\mathbb{Q}')" title="Rationnels">‚Ñö</button>
                                <button class="math-btn" onclick="insertSymbol('\\mathbb{R}')" title="R√©els">‚Ñù</button>
                                <button class="math-btn" onclick="insertSymbol('\\mathbb{C}')" title="Complexes">‚ÑÇ</button>
                            </div>

                            <div class="mb-3">
                                <strong>Logique et quantificateurs :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\forall')" title="Pour tout">‚àÄ</button>
                                <button class="math-btn" onclick="insertSymbol('\\exists')" title="Il existe">‚àÉ</button>
                                <button class="math-btn" onclick="insertSymbol('\\nexists')" title="Il n'existe pas">‚àÑ</button>
                                <button class="math-btn" onclick="insertSymbol('\\land')" title="Et logique">‚àß</button>
                                <button class="math-btn" onclick="insertSymbol('\\lor')" title="Ou logique">‚à®</button>
                                <button class="math-btn" onclick="insertSymbol('\\neg')" title="N√©gation">¬¨</button>
                                <button class="math-btn" onclick="insertSymbol('\\implies')" title="Implique">‚áí</button>
                                <button class="math-btn" onclick="insertSymbol('\\iff')" title="Si et seulement si">‚áî</button>
                            </div>

                            <div class="mb-3">
                                <strong>G√©om√©trie :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\angle')" title="Angle">‚à†</button>
                                <button class="math-btn" onclick="insertSymbol('\\measuredangle')" title="Angle mesur√©">‚à°</button>
                                <button class="math-btn" onclick="insertSymbol('\\triangle')" title="Triangle">‚ñ≥</button>
                                <button class="math-btn" onclick="insertSymbol('\\square')" title="Carr√©">‚ñ°</button>
                                <button class="math-btn" onclick="insertSymbol('\\parallel')" title="Parall√®le">‚à•</button>
                                <button class="math-btn" onclick="insertSymbol('\\perp')" title="Perpendiculaire">‚ä•</button>
                                <button class="math-btn" onclick="insertSymbol('\\cong')" title="Congru">‚âÖ</button>
                                <button class="math-btn" onclick="insertSymbol('\\sim')" title="Similaire">‚àº</button>
                            </div>

                            <div class="mb-3">
                                <strong>Probabilit√©s et statistiques :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('P({})')" title="Probabilit√©">P(A)</button>
                                <button class="math-btn" onclick="insertSymbol('P({}|{})')" title="Probabilit√© conditionnelle">P(A|B)</button>
                                <button class="math-btn" onclick="insertSymbol('\\mathbb{E}[{}]')" title="Esp√©rance">E[X]</button>
                                <button class="math-btn" onclick="insertSymbol('\\text{Var}({})')" title="Variance">Var(X)</button>
                                <button class="math-btn" onclick="insertSymbol('\\sigma^2')" title="Variance sigma">œÉ¬≤</button>
                                <button class="math-btn" onclick="insertSymbol('\\bar{}')" title="Moyenne">xÃÑ</button>
                                <button class="math-btn" onclick="insertSymbol('\\binom{ }{ }')" title="Coefficient binomial">C(n,k)</button>
                            </div>

                            <div class="mb-3">
                                <strong>Fl√®ches et symboles divers :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\rightarrow')" title="Fl√®che droite">‚Üí</button>
                                <button class="math-btn" onclick="insertSymbol('\\leftarrow')" title="Fl√®che gauche">‚Üê</button>
                                <button class="math-btn" onclick="insertSymbol('\\leftrightarrow')" title="Fl√®che double">‚Üî</button>
                                <button class="math-btn" onclick="insertSymbol('\\Rightarrow')" title="Double fl√®che droite">‚áí</button>
                                <button class="math-btn" onclick="insertSymbol('\\Leftarrow')" title="Double fl√®che gauche">‚áê</button>
                                <button class="math-btn" onclick="insertSymbol('\\infty')" title="Infini">‚àû</button>
                                <button class="math-btn" onclick="insertSymbol('\\aleph')" title="Aleph">‚Ñµ</button>
                                <button class="math-btn" onclick="insertSymbol('\\partial')" title="D√©riv√©e partielle">‚àÇ</button>
                                <button class="math-btn" onclick="insertSymbol('\\hbar')" title="H-barre">‚Ñè</button>
                            </div>

                            <div class="mb-3">
                                <strong>Syst√®mes d'√©quations et fonctions par morceaux :</strong><br>
                                <button class="math-btn" onclick="insertComplexSymbol('system_equations')" title="Syst√®me d'√©quations">Syst√®me</button>
                                <button class="math-btn" onclick="insertComplexSymbol('piecewise_function')" title="Fonction par morceaux">f(x) par morceaux</button>
                                <button class="math-btn" onclick="insertComplexSymbol('determinant_2x2')" title="D√©terminant 2√ó2">|A|</button>
                                <button class="math-btn" onclick="insertSymbol('\\begin{align} {} \\\\ {} \\end{align}')" title="Alignement d'√©quations">Align</button>
                            </div>

                            <div class="mb-3">
                                <strong>Formules c√©l√®bres :</strong><br>
                                <button class="math-btn" onclick="insertComplexSymbol('quadratic_formula')" title="Formule quadratique">x = (-b¬±‚àö...)/2a</button>
                                <button class="math-btn" onclick="insertComplexSymbol('binomial_theorem')" title="Th√©or√®me binomial">(a+b)‚Åø</button>
                                <button class="math-btn" onclick="insertComplexSymbol('derivative_chain_rule')" title="R√®gle de d√©rivation en cha√Æne">d/dx[f(g(x))]</button>
                                <button class="math-btn" onclick="insertComplexSymbol('integral_by_parts')" title="Int√©gration par parties">‚à´u dv</button>
                                <button class="math-btn" onclick="loadExample('e^{i\\pi} + 1 = 0')" title="Formule d'Euler">e^(iœÄ)+1=0</button>
                                <button class="math-btn" onclick="loadExample('\\sin^2(x) + \\cos^2(x) = 1')" title="Identit√© trigonom√©trique">sin¬≤+cos¬≤=1</button>
                            </div>

                            <div class="mb-3">
                                <strong>Physique et chimie :</strong><br>
                                <button class="math-btn" onclick="loadExample('E = mc^2')" title="Relativit√© d'Einstein">E=mc¬≤</button>
                                <button class="math-btn" onclick="loadExample('F = ma')" title="Loi de Newton">F=ma</button>
                                <button class="math-btn" onclick="loadExample('PV = nRT')" title="Gaz parfait">PV=nRT</button>
                                <button class="math-btn" onclick="loadExample('\\Delta G = \\Delta H - T\\Delta S')" title="√ânergie de Gibbs">ŒîG=ŒîH-TŒîS</button>
                                <button class="math-btn" onclick="loadExample('\\lambda = \\frac{h}{p}')" title="Longueur d'onde de de Broglie">Œª=h/p</button>
                                <button class="math-btn" onclick="loadExample('\\psi(x,t) = Ae^{i(kx-\\omega t)}')" title="Fonction d'onde">œà(x,t)</button>
                            </div>

                            <div class="mb-3">
                                <strong>Analyse complexe :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\mathbb{C}')" title="Nombres complexes">‚ÑÇ</button>
                                <button class="math-btn" onclick="insertSymbol('\\text{Re}({})')" title="Partie r√©elle">Re(z)</button>
                                <button class="math-btn" onclick="insertSymbol('\\text{Im}({})')" title="Partie imaginaire">Im(z)</button>
                                <button class="math-btn" onclick="insertSymbol('\\overline{}')" title="Conjugu√© complexe">zÃÑ</button>
                                <button class="math-btn" onclick="insertSymbol('|{}|')" title="Module">|z|</button>
                                <button class="math-btn" onclick="insertSymbol('\\arg({})')" title="Argument">arg(z)</button>
                                <button class="math-btn" onclick="loadExample('z = re^{i\\theta}')" title="Forme exponentielle">z=re^(iŒ∏)</button>
                            </div>

                            <div class="mb-3">
                                <strong>Topologie et analyse fonctionnelle :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\mathcal{L}')" title="Espace de fonctions">‚Ñí</button>
                                <button class="math-btn" onclick="insertSymbol('\\mathcal{H}')" title="Espace de Hilbert">‚Ñã</button>
                                <button class="math-btn" onclick="insertSymbol('\\mathcal{B}')" title="Espace de Banach">‚Ñ¨</button>
                                <button class="math-btn" onclick="insertSymbol('\\|{}\\|')" title="Norme">‚Äñx‚Äñ</button>
                                <button class="math-btn" onclick="insertSymbol('\\langle {}, {} \\rangle')" title="Produit scalaire">‚ü®x,y‚ü©</button>
                                <button class="math-btn" onclick="insertSymbol('\\mathcal{O}')" title="Notation O">ùí™</button>
                            </div>

                            <div class="mb-3">
                                <strong>Transform√©es et s√©ries :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\mathcal{F}[{}]')" title="Transform√©e de Fourier">‚Ñ±[f]</button>
                                <button class="math-btn" onclick="insertSymbol('\\mathcal{L}[{}]')" title="Transform√©e de Laplace">‚Ñí[f]</button>
                                <button class="math-btn" onclick="insertSymbol('\\sum_{n=0}^{\\infty}')" title="S√©rie infinie">Œ£‚àû</button>
                                <button class="math-btn" onclick="loadExample('\\sum_{n=0}^{\\infty} \\frac{x^n}{n!} = e^x')" title="S√©rie de Taylor exp">Œ£x‚Åø/n!=eÀ£</button>
                                <button class="math-btn" onclick="loadExample('\\zeta(s) = \\sum_{n=1}^{\\infty} \\frac{1}{n^s}')" title="Fonction z√™ta">Œ∂(s)</button>
                            </div>

                            <div class="mb-3">
                                <strong>Op√©rateurs et notations avanc√©es :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\circ')" title="Composition">‚àò</button>
                                <button class="math-btn" onclick="insertSymbol('\\ast')" title="Convolution">‚àó</button>
                                <button class="math-btn" onclick="insertSymbol('\\star')" title="Produit √©toile">‚ãÜ</button>
                                <button class="math-btn" onclick="insertSymbol('\\oplus')" title="Somme directe">‚äï</button>
                                <button class="math-btn" onclick="insertSymbol('\\otimes')" title="Produit tensoriel">‚äó</button>
                                <button class="math-btn" onclick="insertSymbol('\\triangleq')" title="D√©fini par">‚âú</button>
                                <button class="math-btn" onclick="insertSymbol('\\doteq')" title="√âgal par d√©finition">‚âê</button>
                            </div>

                            <div class="mb-3">
                                <strong>Constantes math√©matiques :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\pi')" title="Pi">œÄ</button>
                                <button class="math-btn" onclick="insertSymbol('e')" title="Nombre e">e</button>
                                <button class="math-btn" onclick="insertSymbol('\\phi')" title="Nombre d'or">œÜ</button>
                                <button class="math-btn" onclick="insertSymbol('\\gamma')" title="Constante d'Euler-Mascheroni">Œ≥</button>
                                <button class="math-btn" onclick="insertSymbol('\\infty')" title="Infini">‚àû</button>
                                <button class="math-btn" onclick="insertSymbol('i')" title="Unit√© imaginaire">i</button>
                                <button class="math-btn" onclick="loadExample('\\sqrt{2}')" title="Racine de 2">‚àö2</button>
                                <button class="math-btn" onclick="loadExample('\\frac{1+\\sqrt{5}}{2}')" title="Nombre d'or exact">(1+‚àö5)/2</button>
                            </div>

                            <div class="mb-3">
                                <strong>Notation scientifique et unit√©s :</strong><br>
                                <button class="math-btn" onclick="insertSymbol('\\times 10^{}')" title="Notation scientifique">√ó10‚Åø</button>
                                <button class="math-btn" onclick="insertSymbol('\\text{ m}')" title="M√®tres">m</button>
                                <button class="math-btn" onclick="insertSymbol('\\text{ kg}')" title="Kilogrammes">kg</button>
                                <button class="math-btn" onclick="insertSymbol('\\text{ s}')" title="Secondes">s</button>
                                <button class="math-btn" onclick="insertSymbol('\\text{ J}')" title="Joules">J</button>
                                <button class="math-btn" onclick="insertSymbol('\\text{ W}')" title="Watts">W</button>
                                <button class="math-btn" onclick="insertSymbol('\\degree')" title="Degr√©s">¬∞</button>
                                <button class="math-btn" onclick="insertSymbol('^\\circ\\text{C}')" title="Celsius">¬∞C</button>
                            </div>
                        </div>

                        <!-- Zone d'√©dition -->
                        <div class="mb-4">
                            <label class="form-label"><strong>üìù √âditeur d'expression :</strong></label>
                            <math-field id="math-field" class="math-field" virtual-keyboard-mode="manual"></math-field>
                            <small class="text-muted">Cliquez dans la zone pour commencer √† taper. Utilisez les boutons ci-dessus ou tapez directement en LaTeX ou MathML.</small>
                        </div>

                        <!-- Exemples complexes -->
                        <div class="complex-examples">
                            <h6>üéØ Exemples d'expressions complexes :</h6>
                            <p><strong>Cliquez sur un exemple pour le charger :</strong></p>
                            <button class="example-btn" onclick="loadExample('\\sqrt{1 + \\sqrt{x}}')">‚àö(1 + ‚àöx)</button>
                            <button class="example-btn" onclick="loadExample('\\frac{\\sqrt{a^2 + b^2}}{2c}')">‚àö(a¬≤+b¬≤)/(2c)</button>
                            <button class="example-btn" onclick="loadExample('\\left(\\frac{a+b}{c-d}\\right)^{\\frac{1}{2}}')">((a+b)/(c-d))^(1/2)</button>
                            <button class="example-btn" onclick="loadExample('\\sqrt{\\frac{\\sqrt{x+1}}{\\sqrt{y-1}}}')">‚àö(‚àö(x+1)/‚àö(y-1))</button>
                            <button class="example-btn" onclick="loadExample('\\frac{\\sqrt{a^2+b^2+c^2}}{\\sqrt[3]{x^3+y^3}}')">‚àö(a¬≤+b¬≤+c¬≤)/‚àõ(x¬≥+y¬≥)</button>
                            <button class="example-btn" onclick="loadExample('x_{1}^{2} + x_{2}^{2} = \\sqrt{a^{2} + b^{2}}')">x‚ÇÅ¬≤ + x‚ÇÇ¬≤ = ‚àö(a¬≤+b¬≤)</button>
                        </div>

                        <!-- Aper√ßu -->
                        <div class="row">
                            <div class="col-md-6">
                                <label class="form-label"><strong>üîç Aper√ßu rendu :</strong></label>
                                <div id="preview" class="preview-area">
                                    <em>L'aper√ßu appara√Ætra ici...</em>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label"><strong>üìã Code LaTeX :</strong></label>
                                <div id="latex-output" class="output-code">Tapez une expression...</div>
                            </div>
                        </div>

                        <!-- Code MathML g√©n√©r√© -->
                        <div class="mt-4">
                            <label class="form-label"><strong>üîß Code MathML g√©n√©r√© :</strong></label>
                            <div id="mathml-output" class="output-code">Le code MathML appara√Ætra ici...</div>
                        </div>

                        <!-- Actions -->
                        <div class="mt-4 text-end">
                            <button class="btn btn-secondary" onclick="clearEditor()">üóëÔ∏è Effacer</button>
                            <button class="btn btn-info" onclick="copyToClipboard('latex')">üìã Copier LaTeX</button>
                            <button class="btn btn-success" onclick="copyToClipboard('mathml')">üìã Copier MathML</button>
                            <button class="btn btn-primary" onclick="convertToCustomNotation()">üîÑ Convertir en notation personnalis√©e</button>
                        </div>

                        <!-- Notation personnalis√©e -->
                        <div class="mt-4">
                            <label class="form-label"><strong>üéØ Notation personnalis√©e (pour votre syst√®me) :</strong></label>
                            <div id="custom-notation" class="output-code">La notation personnalis√©e appara√Ætra ici...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://unpkg.com/mathlive/dist/mathlive.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        let mathField;
        document.addEventListener('DOMContentLoaded', function() {
            mathField = document.getElementById('math-field');
            mathField.addEventListener('input', updatePreview);
            updatePreview();
        });

        function insertSymbol(latex) {
            if (mathField) {
                mathField.executeCommand('insert', latex);
                mathField.focus();
            }
        }
        function loadExample(latex) {
            if (mathField) {
                mathField.value = latex;
                updatePreview();
            }
        }
        function clearEditor() {
            if (mathField) {
                mathField.value = '';
                updatePreview();
            }
        }
        function updatePreview() {
            if (mathField) {
                // Aper√ßu rendu
                document.getElementById('preview').innerHTML = mathField.getValue('latex');
                // Code LaTeX
                document.getElementById('latex-output').textContent = mathField.getValue('latex');
                // Code MathML
                document.getElementById('mathml-output').textContent = mathField.getValue('math-ml');
            }
        }
        function copyToClipboard(type) {
            let text = '';
            if (type === 'latex') text = mathField.getValue('latex');
            else if (type === 'mathml') text = mathField.getValue('math-ml');
            if (text) {
                navigator.clipboard.writeText(text);
            }
        }
        function convertToCustomNotation() {
            // √Ä adapter selon votre syst√®me
            document.getElementById('custom-notation').textContent = mathField.getValue('latex');
        }
    </script>
</body>
</html>
